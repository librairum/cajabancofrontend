<p-toast></p-toast>

<!-- Formulario principal -->
<p-panel  *ngIf="actVCForm">
    <form [formGroup]="actVCForm">
        <div class="grid"> 
            <fieldset class="input-group w-full m-0 ">
                <div class="grid">
                    <div class="field col-12 md:col-6 flex align-items-center gap-3 mb-0  pb-0">
                        <label for="cuenta" class="w-6rem">Cuenta<span class="text-danger">*</span></label>
                        <p-dropdown id="cuenta" formControlName="cuenta" 
                                    [options]="cuentas" 
                                    placeholder="Seleccione"
                                    class="flex-1 w-full">
                        </p-dropdown>
                    </div>
                    <div class="field col-12 md:col-6 flex align-items-center gap-3 mb-0  pb-0">
                        <label for="cuenta2" class="w-6rem">Cuenta<span class="text-danger">*</span></label>
                        <p-dropdown id="cuenta2" formControlName="cuenta2" 
                                    [options]="" 
                                    placeholder="Seleccione"
                                    class="flex-1 w-full">
                        </p-dropdown>
                    </div>
                    <div class="field col-12 md:col-12 flex align-items-center gap-3 mb-0  pt-1  pb-0">
                        <label for="comprobante" class="w-6rem">Comprobante<span class="text-danger">*</span></label>
                        <input pInputText id="comprobante" formControlName="comprobante" class="flex-1 w-full">
                    </div>
                    <div class="field col-12 md:col-12 flex align-items-center gap-3 mb-0  pt-1 pb-0">
                        <label for="glosa" class="w-6rem">Glosa<span class="text-danger">*</span></label>
                        <input pInputText id="glosa" formControlName="glosa" class="flex-1 w-full">
                    </div>
                </div>
            </fieldset>

            <fieldset class="input-group w-full m-0">
                <div class="grid">
                        <div class="field col-12 md:col-6 flex align-items-center gap-3 mb-0   pb-0">
                            <label for="centroCosto" class="w-6rem">Centro de costo<span class="text-danger">*</span></label>
                           
                            <p-dropdown id="centroCosto" formControlName="centroCosto" 
                                    [options]="" 
                                    placeholder="Seleccione"
                                    class="flex-1">
                           </p-dropdown>
                        </div>
                        <div class="field col-12 md:col-6 flex align-items-center gap-3 mb-0   pb-0">
                            <label for="centroGestion" class="w-6rem">Centro de gestión<span class="text-danger">*</span></label>
                            
                            <p-dropdown id="centroGestion" formControlName="centroGestion" 
                                    [options]="" 
                                    placeholder="Seleccione"
                                    class="flex-1">
                           </p-dropdown>
                        </div>
                        <div class="field col-12 md:col-6 flex align-items-center gap-3 mb-0  pt-0  pb-0">
                            <label for="maquina" class="w-6rem">Máquina<span class="text-danger">*</span></label>
                           
                            <p-dropdown id="maquina" formControlName="maquina" 
                                    [options]="" 
                                    placeholder="Seleccione"
                                    class="flex-1">
                           </p-dropdown>
                        </div>
                        <div class="field col-12 md:col-6 flex align-items-center gap-3 mb-0  pt-0  pb-0">
                            <label for="trabajoCurso" class="w-6rem">Trabajo en curso<span class="text-danger">*</span></label>
                          
                            <p-dropdown id="trabajoCurso" formControlName="trabajoCurso" 
                                    [options]="" 
                                    placeholder="Seleccione"
                                    class="flex-1">
                           </p-dropdown>
                        </div>
                        <div class="field col-12 md:col-12 flex align-items-center gap-3 mb-0  pt-0 pb-0">
                            <label for="cuentaCorriente" class="w-6rem">Cuenta corriente<span class="text-danger">*</span></label>
                          
                            <p-dropdown id="cuentaCorriente" formControlName="cuentaCorriente" 
                                    [options]="" 
                                    placeholder="Seleccione"
                                    class="flex-1">
                           </p-dropdown>
                        </div>
                    
                </div>
            </fieldset>
            <fieldset class="input-group w-full m-0">
                <div class="grid">
                    <div class="field col-12 md:col-6 lg:col-4 flex align-items-center gap-3 mb-0   pb-0">
                        <label for="tipDoc" class="w-6rem">Tipo Doc.<span class="text-danger">*</span></label>
                        
                        <p-dropdown id="tipDoc" formControlName="tipDoc" 
                                    [options]="" 
                                    placeholder="Seleccione"
                                    class="flex-1 w-full">
                        </p-dropdown>
                    </div>
                    <div class="field col-12 md:col-12 lg:col-4 flex align-items-center gap-3 mb-0   pb-0">
                        <label for="nroDoc" class="w-6rem">Nro. Doc.<span class="text-danger">*</span></label>
                        <input pInputText id="nroDoc" formControlName="nroDoc" class="flex-1 w-full">
                    </div>
                    <div class="field col-12 md:col-6 lg:col-4 flex align-items-center gap-3 mb-0   pb-0">
                        <label for="fechaDoc" class="w-6rem">Fecha Doc.<span class="text-danger">*</span></label>
                        <p-calendar id="fechaDoc" formControlName="fechaDoc" dateFormat="dd/mm/yy" showIcon="true"  class="flex-1 w-full"></p-calendar>
                    </div>
                    <div class="field col-12 md:col-6 lg:col-3 flex align-items-center gap-3 mb-0   pb-0">
                        <label for="AnioDUA" class="w-6rem">Año DUA<span class="text-danger">*</span></label>
                        <input pInputText id="AnioDUA" formControlName="AnioDUA" class="flex-1 w-full">
                    </div>
                    <div class="field col-12 md:col-6 lg:col-3 flex align-items-center gap-3 mb-0  pt-0  pb-0">
                        <label for="fechaVencim" class="w-5rem">Fecha Vcto.<span class="text-danger">*</span></label>
                        <p-calendar id="fechaVencim" formControlName="fechaVencim" dateFormat="dd/mm/yy" showIcon="true"  class="flex-1 w-full"></p-calendar>
                    </div>
                    <div class="field col-12 md:col-6 lg:col-3 flex align-items-center gap-3 mb-0  pt-0  pb-0">
                        <label for="fechaPago" class="w-5rem">Fecha Pago<span class="text-danger">*</span></label>
                        <p-calendar id="fechaPago" formControlName="fechaPago" dateFormat="dd/mm/yy" showIcon="true"  class="flex-1 w-full"></p-calendar>
                    </div>
                    <div class="field col-12 md:col-12 lg:col-3 flex align-items-center gap-3 mb-0  pt-0  pb-0">
                        <label for="numeroPago" class="w-5rem">Nro. Pago<span class="text-danger">*</span></label>
                        <input pInputText id="numeroPago" formControlName="numeroPago" class="flex-1 w-full">
                    </div>
                    <fieldset class="input-group w-full mr-3 ml-3 mt-1 mb-1">
                        <legend> Doc. Modifica</legend>
                        
                        <div class="grid">
                            <div class="field col-12 md:col-6 lg:col-4 flex align-items-center gap-3 mb-0  pb-0">
                                <label for="tipoDocDocModifica" class="w-6rem">Tipo Doc<span class="text-danger">*</span></label>
                            
                                <p-dropdown id="tipoDocDocModifica" formControlName="tipoDocDocModifica" 
                                    [options]="" 
                                    placeholder="Seleccione"
                                    class="flex-1 w-full">
                                 </p-dropdown>
                            </div>
                            <div class="field col-12 md:col-6 lg:col-4  flex align-items-center gap-3 mb-0  pb-0">
                                <label for="numeroDocModifica" class="w-6rem">Nro.<span class="text-danger">*</span></label>
                                <input pInputText id="numeroDocModifica" formControlName="numeroDocModifica" class="flex-1 w-full">
                            </div>
                            <div class="field col-12 md:col-6 lg:col-4 flex align-items-center gap-3 mb-0  pb-0">
                                <label for="fechaDocModifica" class="w-6rem">Fecha<span class="text-danger">*</span></label>
                                <p-calendar id="fechaDocModifica" formControlName="fechaDocModifica" dateFormat="dd/mm/yy" showIcon="true" class="w-full"></p-calendar>
                            </div>
                        </div>
                    </fieldset>
                </div>
            </fieldset>
            <fieldset class="input-group w-full m-0">
                <div class="grid">
                    <div class="field col-12 md:col-6 lg:col-3 flex align-items-center gap-3 mb-0   pb-0">
                        <label for="columna" class="w-6rem">Columna<span class="text-danger">*</span></label>
                        <p-dropdown id="columna" formControlName="columna" 
                                    [options]="" 
                                    placeholder="Seleccione"
                                    class="flex-1">
                        </p-dropdown>
                    </div>
                    <div class="field col-12 md:col-6 lg:col-2  flex align-items-center gap-3 mb-0  pb-0">
                        <label for="moneda" class="w-4rem">Moneda<span class="text-danger">*</span></label>
                        <p-dropdown id="moneda" formControlName="moneda" 
                                    [options]="" 
                                    placeholder="Seleccione"
                                    class="flex-1 w-full">
                        </p-dropdown>
                    </div>
                    <div class="field col-12 md:col-6 lg:col-2 flex align-items-center gap-3 mb-0  pb-0">
                        <label for="tipoCambio" class="w-4rem">Tip. Cambio<span class="text-danger">*</span></label>
                        <input pInputText id="tipoCambio" formControlName="tipoCambio" class="flex-1 w-full">
                    </div>
                     <div class="field col-12 md:col-6 lg:col-3  flex align-items-center gap-3 mb-0  pb-0">
                        <label for="debe" class="w-4rem">Debe<span class="text-danger">*</span></label>
                        <input pInputText id="debe" formControlName="debe" class="flex-1 w-5rem">
                    </div>
                    <div class="field col-12 md:col-6 lg:col-2  flex align-items-center gap-3 mb-0  pb-0">
                        <input pInputText id="debe2" formControlName="debe2" class="flex-1 w-full">
                    </div>
                </div>
                <div class="grid ">
                    <div class="field col-12 md:col-6 lg:col-7 flex align-items-center gap-3 mb-0   pb-0">
                    </div>
                     <div class="field col-12 md:col-6 lg:col-3  flex align-items-center gap-3 mb-0  pb-0">
                        <label for="haber" class="w-4rem">Haber<span class="text-danger">*</span></label>
                        <input pInputText id="haber" formControlName="haber" class="flex-1 w-5rem">
                    </div>
                    <div class="field col-12 md:col-6 lg:col-2  flex align-items-center gap-3 mb-0   pb-0">
                        <input pInputText id="haber2" formControlName="haber2" class="flex-1 w-full">
                    </div>
                </div>
            </fieldset>

            <div class="field col-12 md:col-12 lg:col-3 flex align-items-center gap-3 mb-0 ">
                <p-checkbox id="afectoRet" name="afectoRet" formControlName="afectoRet"  binary="true"></p-checkbox>
                <label for="afectoRet">Afecto a retención</label>
            </div>
            
            <fieldset class="input-group w-full m-0">
                <legend> Datos de retención</legend>
                <div class="grid"> <!--reducir ancho tipo de cambio-->
                    <div class="field col-12 md:col-6 lg:col-3 flex align-items-center gap-3 mb-0 pb-0">
                        <label for="tipTranRet" class="w-6rem">Tip. Tran<span class="text-danger">*</span></label>
                        <p-dropdown id="tipTranRet" formControlName="tipTranRet" 
                                    [options]="" 
                                    placeholder="Seleccione"
                                    class="flex-1">
                         </p-dropdown>
                    </div>
                    <div class="field col-12 md:col-6 lg:col-2  flex align-items-center gap-3 mb-0 pb-0">
                        <label for="tipDocRet" class="w-3rem">Tip. Doc.<span class="text-danger">*</span></label>
                        <p-dropdown id="tipDocRet" formControlName="tipDocRet" 
                                    [options]="" 
                                    placeholder="Seleccione"
                                    class="flex-1">
                         </p-dropdown>
                    </div>
                    <div class="field col-12 md:col-6 lg:col-3 flex align-items-center gap-3 mb-0 pb-0">
                        <label for="numeroRet" class="w-4rem">Numero<span class="text-danger">*</span></label>
                        <input pInputText id="numeroRet" formControlName="numeroRet" class="flex-1 w-full">
                    </div>
                     <div class="field col-12 md:col-6 lg:col-2  flex align-items-center gap-3 mb-0 pb-0">
                        <label for="fechaRet" class="w-4rem">Fecha<span class="text-danger">*</span></label>
                        <p-calendar id="fechaRet" formControlName="fechaRet" dateFormat="dd/mm/yy" showIcon="true" class="w-full"></p-calendar>
                    </div>
                    <div class="field col-12 md:col-6 lg:col-2  flex align-items-center gap-3 mb-0 pb-0">
                        <label for="fechaPagoRet" class="w-4rem">Fec. Pago<span class="text-danger">*</span></label>
                        <p-calendar id="fechaPagoRet" formControlName="fechaPagoRet" dateFormat="dd/mm/yy" showIcon="true" class="w-full"></p-calendar>
                    </div>
                </div>
            </fieldset>
        </div>
        <p-footer>
            <div class="flex justify-content-center gap-8 pt-3">
                <p-button label="Guardar" (onClick)="guardarConfirmacion()" styleClass="p-button-primary"></p-button>
                <p-button label="Cancelar" (onClick)="cancelar()" styleClass="p-button-danger"></p-button>
            </div>
        </p-footer>
    </form>
</p-panel>







<!-- Modal de confirmación -->
<p-dialog header="Archivo guardado correctamente" [(visible)]="mostrarDialogoExito" [modal]="true"
    [style]="{width: '450px'}" [closable]="false">
    <div class="flex align-items-center p-3">
        <i class="pi pi-check-circle text-green-500 mr-3" style="font-size: 2rem"></i>
        <span>{{mensajeExito}}</span>
    </div>
    <ng-template pTemplate="footer">
        <div class="flex justify-content-end">
            <p-button label="OK" (onClick)="onConfirmOk()" styleClass="p-button-success"></p-button>
        </div>
    </ng-template>
</p-dialog>
